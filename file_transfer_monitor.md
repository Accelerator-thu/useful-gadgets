# Automated File Transfer Script for Monitoring and Uploading

This guide explains a simple Bash script to monitor the availability of a file and automatically transfer it to a remote server using `scp` once it becomes available.

---

## Overview

This script continuously checks for the existence of a specific file. When the file is found, it uploads the file to a specified remote server and destination directory. If the file doesn't exist, the script waits and checks again after a specified interval.

---

## The Script

```bash
#!/bin/bash

# File to monitor

FINAL_FILE_PATH=...

# Remote server details

USERNAME=...
REMOTE_SERVER=...
DESTINATION_PATH=...

# Continuous monitoring loop

while true; do
# Check if the file exists
if [ -f $FINAL_FILE_PATH ]; then
# Transfer the file to the remote server
scp $FINAL_FILE_PATH $USERNAME@$REMOTE_SERVER:$DESTINATION_PATH
echo "File has been copied to the remote server!"
break
else
# Notify and retry after a delay
echo "File does not exist or is still downloading, checking again in 1 minute."
sleep 60
fi
done
```

---

## How It Works

1. **Monitoring File Existence:**
   - The script uses `-f` in `[ -f $FINAL_FILE_PATH ]` to check if the file exists.
   - If the file exists, it proceeds to transfer.

2. **File Transfer:**
   - The script uses `scp` to securely copy the file to the specified remote server and destination directory.

3. **Retry Logic:**
   - If the file does not exist, the script waits for 1 minute (`sleep 60`) before checking again.

4. **Completion:**
   - Once the file is successfully copied, the script exits the loop and terminates.

---

## Configuration

### Customize Variables:
- **`FINAL_FILE_PATH`**: Update with the full path of the file to monitor.
- **`USERNAME`**: Replace with your remote server username.
- **`REMOTE_SERVER`**: Replace with the IP address or domain of your remote server.
- **`DESTINATION_PATH`**: Specify the remote directory for file transfer.

### Example:

FINAL_FILE_PATH=’/path/to/your/file’
USERNAME=‘your_username’
REMOTE_SERVER=‘your.server.com’
DESTINATION_PATH=’/remote/destination/directory’

---

## How to Run the Script

1. Save the script as `monitor_and_transfer.sh`.
2. Make the script executable:

```bash
chmod +x monitor_and_transfer.sh
```

3. Run the script:

```bash
./monitor_and_transfer.sh
```

---

## Use Cases

- **Large File Downloads**: Automatically upload a file as soon as a download is complete.
- **Monitoring Workflow Outputs**: Transfer a file generated by a long-running process.
- **Remote Backups**: Ensure a critical file is backed up to a remote server once available.
